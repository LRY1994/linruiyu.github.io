<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="/static/css/all.css" />
    <title>大脸圆玉的博客</title>
</head>
<body>

    <div class="l-nav">
        <div class="nav-img">
    <img src="/static/img/avatar.png"/>
</div>


<ul>
    
        
            <li class="li-active"> <a href="/categories/Experience.html">Experience</a></li>
        
        
            <li > <a href="/categories/Reading.html">Reading</a></li>
        
    
        
            <li > <a href="/categories/Collection.html">Collection</a></li>
        
    
</ul>
    </div>
    <div class="r-box">
        <div class="article">
            <h1 class="title">canvas</h1>            
            <p>I belong to : Experience</p>
            <hr/>
            <p>canvas默认是宽300px,高150px,即<code>&lt;canvas width=&quot;300&quot; height=&quot;150&quot;&gt;</code>
当像这样设置的时候<code>&lt;canvas width=&quot;300&quot; height=&quot;150&quot;&gt;</code>，会同时修改 <strong>元素本身大小</strong>和 <strong>元素绘图表面大小</strong>
通过css设置的时候，只会改变 <strong>元素本身大小</strong></p>
<p>如果基于canvas的应用程序要支持IE6,IE7,IE8,游两个选择：explorecanvas\Google Chrome Frame</p>
<p>希望执行几行特定的代码时才开始分析，在执行完之后就停止性能分析，可用console.profile()和console.profileEnd()</p>
<p>把窗口坐标转换成相对于canvas的位置</p>
<pre><code class="language-js">function windowToCanvas(canvas,clientX,clientY){
    var bbox = canvas.getBoundingClientRect();
    return{
        x:(clientX-bbox.width)*(canvas.width/bbox.width)
        y:(clientY-bbox.height)*(canvas.height/bbox.height)
    }
} </code></pre>
<p>canvas是一个不可获取焦点的元素，所以不能直接在元素上绑定键盘事件，应该在docunmet或window上绑定键盘事件</p>
<p>浏览器只会在产生可打印字符的时候才触发keypress事件。用<code>var key =String.fromCharCode(event.which)</code></p>
<p>打印canvas内容：<code>toDataURL()</code>  <code>toBlob()</code></p>

        </div>
    </div>
    
</body>
<script type="text/javascript">
    //文章里面的外链都打开新窗口    
    var alist = document.querySelectorAll(".article a");
    for(let i=0;i<alist.length;i++) if(alist[i].href.indexOf('#') < 0) alist[i].target="_blank"    
</script>
</html>