
 <!DOCTYPE HTML>
<html lang="zh-hk">
<head>
  <meta charset="UTF-8">
  
    <title>vue中使用gojs/jointjs | 圆玉的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Ruiyu Lin">
    

    
    <meta name="description" content="因为公司项目需求，要画出相关业务的流程图，以便客户了解自己身处何处 搜索框输入 “前端流程图插件”，查了很多资料，总结一下有以下几种 Raphaelhttp://dmitrybaranovskiy.github.io/raphael/reference.html这个星星很多，但是我找到的demo都要自己设置x坐标，y坐标，找不到自动布局的demo http://www.weixuehao.com/">
<meta name="keywords" content="专题探究">
<meta property="og:type" content="article">
<meta property="og:title" content="vue中使用gojs&#x2F;jointjs">
<meta property="og:url" content="http://lry1994.github.io/study/2018/8/procedure.html">
<meta property="og:site_name" content="圆玉的博客">
<meta property="og:description" content="因为公司项目需求，要画出相关业务的流程图，以便客户了解自己身处何处 搜索框输入 “前端流程图插件”，查了很多资料，总结一下有以下几种 Raphaelhttp://dmitrybaranovskiy.github.io/raphael/reference.html这个星星很多，但是我找到的demo都要自己设置x坐标，y坐标，找不到自动布局的demo http://www.weixuehao.com/">
<meta property="og:locale" content="zh-hk">
<meta property="og:image" content="http://lry1994.github.io/study/2018/8/procedure/darge-d3.png">
<meta property="og:image" content="http://lry1994.github.io/study/2018/8/procedure/gojs.png">
<meta property="og:image" content="http://lry1994.github.io/study/2018/8/procedure/jointjs.png">
<meta property="og:image" content="http://lry1994.github.io/study/2018/8/procedure/joint-error.png">
<meta property="og:updated_time" content="2019-07-04T03:12:39.111Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vue中使用gojs&#x2F;jointjs">
<meta name="twitter:description" content="因为公司项目需求，要画出相关业务的流程图，以便客户了解自己身处何处 搜索框输入 “前端流程图插件”，查了很多资料，总结一下有以下几种 Raphaelhttp://dmitrybaranovskiy.github.io/raphael/reference.html这个星星很多，但是我找到的demo都要自己设置x坐标，y坐标，找不到自动布局的demo http://www.weixuehao.com/">
<meta name="twitter:image" content="http://lry1994.github.io/study/2018/8/procedure/darge-d3.png">

    
    <link rel="alternative" href="/atom.xml" title="圆玉的博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="圆玉的博客" title="圆玉的博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="圆玉的博客">圆玉的博客</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:lry1994.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/study/2018/8/procedure.html" title="vue中使用gojs/jointjs" itemprop="url">vue中使用gojs/jointjs</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Ruiyu Lin" target="_blank" itemprop="author">Ruiyu Lin</a>
		
  <p class="article-time">
    <time datetime="2018-08-22T16:00:00.000Z" itemprop="datePublished"> Published 2018-08-23</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Raphael"><span class="toc-number">1.</span> <span class="toc-text">Raphael</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flow-chart"><span class="toc-number">2.</span> <span class="toc-text">flow-chart</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#darge-d3"><span class="toc-number">3.</span> <span class="toc-text">darge-d3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gojs"><span class="toc-number">4.</span> <span class="toc-text">gojs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jointjs"><span class="toc-number">5.</span> <span class="toc-text">jointjs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jsplumb"><span class="toc-number">6.</span> <span class="toc-text">jsplumb</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考资料："><span class="toc-number">7.</span> <span class="toc-text">参考资料：</span></a></li></ol>
		
		</div>
		
		<p>因为公司项目需求，要画出相关业务的流程图，以便客户了解自己身处何处</p>
<p>搜索框输入 “前端流程图插件”，查了很多资料，总结一下有以下几种</p>
<h3 id="Raphael"><a href="#Raphael" class="headerlink" title="Raphael"></a>Raphael</h3><p><a href="http://dmitrybaranovskiy.github.io/raphael/reference.html" target="_blank" rel="noopener">http://dmitrybaranovskiy.github.io/raphael/reference.html</a><br>这个星星很多，但是我找到的demo都要自己设置x坐标，y坐标，找不到自动布局的demo</p>
<p><a href="http://www.weixuehao.com/archives/370" target="_blank" rel="noopener">http://www.weixuehao.com/archives/370</a></p>
<h3 id="flow-chart"><a href="#flow-chart" class="headerlink" title="flow-chart"></a>flow-chart</h3><p>代码写法繁琐，不是json就可以解决，效果也比较丑,PASS</p>
<h3 id="darge-d3"><a href="#darge-d3" class="headerlink" title="darge-d3"></a>darge-d3</h3><p>github :<a href="https://github.com/dagrejs/dagre-d3" target="_blank" rel="noopener">https://github.com/dagrejs/dagre-d3</a></p>
<p>效果图<br><img src="/study/2018/8/procedure/darge-d3.png"></p>
<p>下载里面的demo,改一下json就可以了<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// States </span><br><span class="line">var states = [ "NEW", "SUBMITTED","FINISHED" ,"FAILED","DELIVER", </span><br><span class="line">               "CANCELED", "ABOLISHED" , "DELETED","REFUNDING","REFUNDED"];</span><br><span class="line">var map = ['新创建','已提交','已完成','提交失败',"交付中",</span><br><span class="line">              '已取消','废除','已删除','退款中',"已退款"]</span><br><span class="line">// Automatically label each of the nodes</span><br><span class="line">states.forEach(function(state,index) &#123; g.setNode(state, &#123; label: `$&#123;map[index]&#125;($&#123;state&#125;)`&#125;)&#125;);</span><br><span class="line"></span><br><span class="line">// Set up the edges</span><br><span class="line">g.setEdge("NEW", "FAILED",     &#123; label: "后台接口自动"&#125;);</span><br><span class="line">g.setEdge("NEW", "SUBMITTED",   &#123; label: "后台接口自动" &#125;);</span><br><span class="line">g.setEdge("NEW", "CANCELED",   &#123; label: "用户取消订单" &#125;);</span><br><span class="line">g.setEdge("SUBMITTED","CANCELED",     &#123; label: "用户取消订单" &#125;);</span><br><span class="line">g.setEdge("SUBMITTED", "ABOLISHED",  &#123; label: "用户超过48小时未支付，\n系统自动取消"&#125;);</span><br><span class="line">g.setEdge("ABOLISHED","DELETED",      &#123; label: "已删除" &#125;);</span><br><span class="line">g.setEdge("CANCELED", "DELETED",   &#123; label: "已删除"&#125;);</span><br><span class="line">g.setEdge("FAILED",   "SUBMITTED",      &#123; label: "后台接口自动" &#125;);</span><br><span class="line"></span><br><span class="line">g.setEdge("SUBMITTED",   "DELIVER",     &#123; label: "用户支付" &#125;);</span><br><span class="line">g.setEdge("FINISHED",   "REFUNDING",     &#123; label: "用户退款" &#125;);</span><br><span class="line"></span><br><span class="line">g.setEdge("DELIVER",   "FINISHED",     &#123; label: "交付完成" &#125;);</span><br><span class="line">g.setEdge("REFUNDING",   "REFUNDED",     &#123; label: "已退款" &#125;);</span><br><span class="line">g.setEdge("REFUNDED",   "DELETED",     &#123; label: "已删除" &#125;);</span><br><span class="line">g.setEdge("DELIVER",   "REFUNDING",     &#123; label: "用户退款" &#125;);</span><br><span class="line">g.setEdge("FAILED",   "CANCELED",     &#123; label: "用户取消订单" &#125;);</span><br></pre></td></tr></table></figure></p>
<p><strong>不满意的地方</strong>：画出来的图是垂直方向的，我要的是水平方向,PASS</p>
<h3 id="gojs"><a href="#gojs" class="headerlink" title="gojs"></a>gojs</h3><p>github :<a href="https://github.com/NorthwoodsSoftware/GoJS" target="_blank" rel="noopener">https://github.com/NorthwoodsSoftware/GoJS</a></p>
<p>可以通过<code>npm install gojs -save</code>安装</p>
<p>效果图<br><img src="/study/2018/8/procedure/gojs.png"></p>
<p>看里面的demo我自己包装了一下<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"background-color:#d5d5d5;margin:0;padding:5px;"</span>&gt;</span></span><br><span class="line">    您当前处于 <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"tip"</span>&gt;</span>用户提交资料<span class="tag">&lt;/<span class="name">span</span>&gt;</span> 步骤 </span><br><span class="line">    下一步等待<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"tip"</span>&gt;</span>供应商接单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-if</span>=<span class="string">"show===false"</span> @<span class="attr">click</span>=<span class="string">"show=true"</span>&gt;</span>展开<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-else</span> @<span class="attr">click</span>=<span class="string">"show=false"</span>&gt;</span>收起<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiagramDiv"</span> <span class="attr">v-show</span>=<span class="string">"show"</span>  &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-class">.tip</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span><span class="selector-pseudo">:red</span>;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">font-size</span><span class="selector-pseudo">:0.8em</span>;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">font-weight</span><span class="selector-pseudo">:bold</span>;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">padding</span><span class="selector-pseudo">:5px</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-id">#myDiagramDiv</span>&#123;</span></span><br><span class="line"><span class="undefined">  height: 200px; </span></span><br><span class="line"><span class="css">  <span class="selector-tag">border</span>: <span class="selector-tag">solid</span> 1<span class="selector-tag">px</span> <span class="selector-id">#d3d3d3</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.go =<span class="built_in">require</span>(<span class="string">'./go.js'</span>) </span><br><span class="line"><span class="keyword">var</span> $ = go.GraphObject.make;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> datam <span class="keyword">from</span> <span class="string">'./data'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">  mixins:[datam],</span><br><span class="line">  data()&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">      myDiagram:<span class="literal">null</span>,</span><br><span class="line">      show:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted()&#123;</span><br><span class="line">    <span class="keyword">this</span>.load();</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    load()&#123;</span><br><span class="line">      <span class="keyword">this</span>.init();</span><br><span class="line">      <span class="keyword">this</span>.addNodeTemplate(<span class="keyword">this</span>.User);</span><br><span class="line">      <span class="keyword">this</span>.addNodeTemplate(<span class="keyword">this</span>.Supplier);</span><br><span class="line">      <span class="keyword">this</span>.layout();</span><br><span class="line">    &#125;,</span><br><span class="line">    layout() &#123;</span><br><span class="line">      <span class="keyword">this</span>.myDiagram.model = go.Model.fromJson(<span class="keyword">this</span>.myjson);</span><br><span class="line">      <span class="keyword">this</span>.myDiagram.layoutDiagram(<span class="literal">true</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    getOption()&#123;</span><br><span class="line">      <span class="comment">// for conciseness in defining templates</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> options=&#123;</span><br><span class="line">        yellowgrad : $(go.Brush, <span class="string">"Linear"</span>, &#123; <span class="number">0</span>: <span class="string">"rgb(254, 201, 0)"</span>, <span class="number">1</span>: <span class="string">"rgb(254, 162, 0)"</span> &#125;),</span><br><span class="line">        greengrad : $(go.Brush, <span class="string">"Linear"</span>, &#123; <span class="number">0</span>: <span class="string">"#98FB98"</span>, <span class="number">1</span>: <span class="string">"#9ACD32"</span> &#125;),</span><br><span class="line">        bluegrad : $(go.Brush, <span class="string">"Linear"</span>, &#123; <span class="number">0</span>: <span class="string">"#B0E0E6"</span>, <span class="number">1</span>: <span class="string">"#87CEEB"</span> &#125;),</span><br><span class="line">        redgrad : $(go.Brush, <span class="string">"Linear"</span>, &#123; <span class="number">0</span>: <span class="string">"#C45245"</span>, <span class="number">1</span>: <span class="string">"#871E1B"</span> &#125;),</span><br><span class="line">        whitegrad : $(go.Brush, <span class="string">"Linear"</span>, &#123; <span class="number">0</span>: <span class="string">"#F0F8FF"</span>, <span class="number">1</span>: <span class="string">"#E6E6FA"</span> &#125;),</span><br><span class="line">        bigfont : <span class="string">"bold 8pt Helvetica, Arial, sans-serif"</span>,</span><br><span class="line">        smallfont : <span class="string">"bold 6pt Helvetica, Arial, sans-serif"</span>,</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> options;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">     textStyle()&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          margin: <span class="number">6</span>,</span><br><span class="line">          wrap: go.TextBlock.WrapFit,</span><br><span class="line">          textAlign: <span class="string">"center"</span>,</span><br><span class="line">          editable: <span class="literal">true</span>,</span><br><span class="line">          font: <span class="keyword">this</span>.getOption()[<span class="string">'bigfont'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      init()&#123;</span><br><span class="line">        <span class="keyword">this</span>.myDiagram =</span><br><span class="line">            $(go.Diagram, <span class="string">"myDiagramDiv"</span>,</span><br><span class="line">              &#123;</span><br><span class="line">                isReadOnly: <span class="literal">true</span>,</span><br><span class="line">                <span class="comment">// have mouse wheel events zoom in and out instead of scroll up and down</span></span><br><span class="line">                <span class="string">"toolManager.mouseWheelBehavior"</span>: go.ToolManager.WheelNone,</span><br><span class="line">                initialAutoScale: go.Diagram.Uniform,</span><br><span class="line">                <span class="string">"linkingTool.direction"</span>: go.LinkingTool.ForwardsOnly,</span><br><span class="line">                initialContentAlignment: go.Spot.Center,</span><br><span class="line">                layout: $(go.LayeredDigraphLayout, &#123; <span class="attr">isInitial</span>: <span class="literal">false</span>, <span class="attr">isOngoing</span>: <span class="literal">false</span>, <span class="attr">layerSpacing</span>: <span class="number">50</span> &#125;),</span><br><span class="line">                <span class="string">"undoManager.isEnabled"</span>: <span class="literal">true</span></span><br><span class="line">              &#125;);</span><br><span class="line">              <span class="comment">//默认节点模板</span></span><br><span class="line">        <span class="keyword">this</span>.myDiagram.nodeTemplate =</span><br><span class="line">            $(go.Node, <span class="string">"Auto"</span>,</span><br><span class="line">              <span class="keyword">new</span> go.Binding(<span class="string">"location"</span>, <span class="string">"loc"</span>, go.Point.parse).makeTwoWay(go.Point.stringify),</span><br><span class="line">              <span class="comment">// define the node's outer shape, which will surround the TextBlock</span></span><br><span class="line">              $(go.Shape, <span class="string">"Rectangle"</span>,</span><br><span class="line">                &#123; <span class="attr">fill</span>: <span class="keyword">this</span>.getOption()[<span class="string">'yellowgrad'</span>], <span class="attr">stroke</span>: <span class="string">"black"</span>,</span><br><span class="line">                  portId: <span class="string">""</span>, <span class="attr">fromLinkable</span>: <span class="literal">true</span>, <span class="attr">toLinkable</span>: <span class="literal">true</span>, <span class="attr">cursor</span>: <span class="string">"pointer"</span>,</span><br><span class="line">                  toEndSegmentLength: <span class="number">50</span>, <span class="attr">fromEndSegmentLength</span>: <span class="number">40</span> &#125;),</span><br><span class="line">              $(go.TextBlock, <span class="string">"Page"</span>,</span><br><span class="line">                &#123; <span class="attr">margin</span>: <span class="number">6</span>,</span><br><span class="line">                  font: <span class="keyword">this</span>.getOption()[<span class="string">'bigfont'</span>],</span><br><span class="line">                  editable: <span class="literal">true</span> &#125;,</span><br><span class="line">                <span class="keyword">new</span> go.Binding(<span class="string">"text"</span>, <span class="string">"text"</span>).makeTwoWay()));</span><br><span class="line">            <span class="comment">// replace the default Link template in the linkTemplateMap</span></span><br><span class="line">          <span class="keyword">this</span>.myDiagram.linkTemplate =</span><br><span class="line">                $(go.Link,  <span class="comment">// the whole link panel</span></span><br><span class="line">                  <span class="keyword">new</span> go.Binding(<span class="string">"points"</span>).makeTwoWay(),</span><br><span class="line">                  &#123; <span class="attr">curve</span>: go.Link.Bezier, <span class="attr">toShortLength</span>: <span class="number">15</span> &#125;,</span><br><span class="line">                  <span class="keyword">new</span> go.Binding(<span class="string">"curviness"</span>, <span class="string">"curviness"</span>),</span><br><span class="line">                  $(go.Shape,  <span class="comment">// the link shape</span></span><br><span class="line">                    &#123; <span class="attr">stroke</span>: <span class="string">"#2F4F4F"</span>, <span class="attr">strokeWidth</span>: <span class="number">2.5</span> &#125;),</span><br><span class="line">                  $(go.Shape,  <span class="comment">// the arrowhead</span></span><br><span class="line">                    &#123; <span class="attr">toArrow</span>: <span class="string">"kite"</span>, <span class="attr">fill</span>: <span class="string">"#2F4F4F"</span>, <span class="attr">stroke</span>: <span class="literal">null</span>, <span class="attr">scale</span>: <span class="number">2</span> &#125;)</span><br><span class="line">                  );</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * options:&#123;</span></span><br><span class="line"><span class="comment">       *  category</span></span><br><span class="line"><span class="comment">       *  shape:RoundedRectangle/Rectangle</span></span><br><span class="line"><span class="comment">       *  shapeOptions:&#123;</span></span><br><span class="line"><span class="comment">       *   fill:bluegrad/greengrad/yellowgrad/null/redgrad/whitegrad  自定义的</span></span><br><span class="line"><span class="comment">       *   stroke: "black",</span></span><br><span class="line"><span class="comment">       *   portId:""</span></span><br><span class="line"><span class="comment">       *   fromLinkable:true</span></span><br><span class="line"><span class="comment">       *   toLinkable:</span></span><br><span class="line"><span class="comment">       *   cursor:"pointer"</span></span><br><span class="line"><span class="comment">       *   fromEndSegmentLength:40</span></span><br><span class="line"><span class="comment">       *    toEndSegmentLength</span></span><br><span class="line"><span class="comment">       *    strokeWidth</span></span><br><span class="line"><span class="comment">       *  </span></span><br><span class="line"><span class="comment">       *   &#125;</span></span><br><span class="line"><span class="comment">       *    textStyle:&#123;</span></span><br><span class="line"><span class="comment">       *        margin: 9,</span></span><br><span class="line"><span class="comment">       *        maxSize: new go.Size(200, NaN),</span></span><br><span class="line"><span class="comment">       *        wrap: go.TextBlock.WrapFit,</span></span><br><span class="line"><span class="comment">        *       editable: true,</span></span><br><span class="line"><span class="comment">        *       textAlign: "center",</span></span><br><span class="line"><span class="comment">        *       font: smallfont </span></span><br><span class="line"><span class="comment">        * &#125;,</span></span><br><span class="line"><span class="comment">       *    </span></span><br><span class="line"><span class="comment">       * &#125;</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      addNodeTemplate(options)&#123;</span><br><span class="line">        <span class="keyword">let</span> fill = <span class="keyword">this</span>.getOption()[options.shapeOptions.fill];</span><br><span class="line">        options.shapeOptions.fill = fill;</span><br><span class="line">        <span class="keyword">this</span>.myDiagram.nodeTemplateMap.add(options.category,</span><br><span class="line">          $(go.Node, <span class="string">"Auto"</span>,</span><br><span class="line">            <span class="keyword">new</span> go.Binding(<span class="string">"location"</span>, <span class="string">"loc"</span>, go.Point.parse).makeTwoWay(go.Point.stringify),</span><br><span class="line">            $(go.Shape, options.shape,options.shapeOptions),</span><br><span class="line">            $(go.TextBlock,  <span class="keyword">this</span>.textStyle(),</span><br><span class="line">              <span class="keyword">new</span> go.Binding(<span class="string">"text"</span>, <span class="string">"text"</span>).makeTwoWay())</span><br><span class="line">            ));</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>不满意的地方</strong>：</p>
<ol>
<li>免费版gojs是有水印的，百度搜索“gojs如何去水印”有一堆答案，我就不写了。</li>
<li>因为要自己手动去掉水印，所以我只能手动下载go.js放在我自己的组件目录下，但是这个文件太大了，800+KB,<br>npm run dev 的时候停在这里停了好久。有时候还爆出“……maximun ….500KB”的错误，我也不知道是什么原因，不知道有什么方法，有的话麻烦通知我。</li>
<li>代码写法有点太繁琐</li>
</ol>
<p>这是我自己包装的代码地址：<a href="https://github.com/LRY1994/vue-lib/tree/master/src/components/process-go" target="_blank" rel="noopener">https://github.com/LRY1994/vue-lib/tree/master/src/components/process-go</a></p>
<h3 id="jointjs"><a href="#jointjs" class="headerlink" title="jointjs"></a>jointjs</h3><p>github : <a href="https://github.com/clientIO/joint" target="_blank" rel="noopener">https://github.com/clientIO/joint</a><br>效果图<br><img src="/study/2018/8/procedure/jointjs.png"></p>
<p>可以通过<code>npm install jointjs -save</code>安装</p>
<p>参照了很多demo和文档，用的是矩形，但是可以设置圆角的度数变成椭圆形，其他形状我就无力了。</p>
<p>可以自定义矩形的样式和矩形框里面的文字样式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//data.vue</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        <span class="keyword">var</span> userClass = &#123;<span class="comment">//这个要参照SVG属性</span></span><br><span class="line">            <span class="comment">/**shapeStyle</span></span><br><span class="line"><span class="comment">             * fill:填充的背景颜色</span></span><br><span class="line"><span class="comment">                stroke: 边框颜色</span></span><br><span class="line"><span class="comment">                strokeWidth: 边框宽度</span></span><br><span class="line"><span class="comment">                rx: 圆角</span></span><br><span class="line"><span class="comment">                ry: </span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            shapeStyle:&#123;<span class="comment">//矩形样式</span></span><br><span class="line">                fill:&#123;</span><br><span class="line">                    type: <span class="string">'linearGradient'</span>,</span><br><span class="line">                    stops: [</span><br><span class="line">                        &#123;<span class="attr">offset</span>: <span class="string">'0%'</span>, <span class="attr">color</span>: <span class="string">'#98FB98'</span>&#125;,</span><br><span class="line">                        &#123;<span class="attr">offset</span>: <span class="string">'100%'</span>, <span class="attr">color</span>: <span class="string">'#9ACD32'</span>&#125;</span><br><span class="line">                    ],</span><br><span class="line">                &#125;,</span><br><span class="line">                rx:<span class="number">150</span>,</span><br><span class="line">                ry:<span class="number">15</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * textStyle</span></span><br><span class="line"><span class="comment">             *  fontWeight</span></span><br><span class="line"><span class="comment">             *  fontSize</span></span><br><span class="line"><span class="comment">             * </span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            textStyle:&#123;<span class="comment">//文本样式</span></span><br><span class="line">                fontWeight:<span class="string">'bold'</span></span><br><span class="line">            &#125;    </span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span>&#123;</span><br><span class="line">            graphData :&#123;</span><br><span class="line">                node:&#123;</span><br><span class="line">                    <span class="string">'100'</span>:&#123;<span class="attr">text</span>:<span class="string">'用户提交资料'</span>,<span class="attr">category</span>:userClass&#125;,</span><br><span class="line">                    <span class="string">'101'</span>:&#123;<span class="attr">text</span>:<span class="string">'用户完善资料'</span>,<span class="attr">category</span>:userClass&#125;,</span><br><span class="line">                    <span class="string">'102'</span>:&#123;<span class="attr">text</span>:<span class="string">'用户确认完成'</span>,<span class="attr">category</span>:userClass&#125;,</span><br><span class="line">                    <span class="string">'103'</span>:&#123;<span class="attr">text</span>:<span class="string">'用户撤销'</span>,<span class="attr">category</span>:userClass&#125;,</span><br><span class="line"></span><br><span class="line">                    <span class="string">'200'</span>:&#123;<span class="attr">text</span>:<span class="string">'供应商驳回'</span>&#125;,</span><br><span class="line">                    <span class="string">'201'</span>:&#123;<span class="attr">text</span>:<span class="string">'供应商接单'</span>&#125;,</span><br><span class="line">                    <span class="string">'202'</span>:&#123;<span class="attr">text</span>:<span class="string">'供应商完工'</span>&#125;,</span><br><span class="line">                    <span class="string">'203'</span>:&#123;<span class="attr">text</span>:<span class="string">'等待供应商处理'</span>&#125;,</span><br><span class="line"></span><br><span class="line">                    <span class="string">'300'</span>:&#123;<span class="attr">text</span>:<span class="string">'系统交付出错'</span>&#125;               </span><br><span class="line">                &#125;,</span><br><span class="line">                edge :&#123;<span class="comment">//每个点都要写</span></span><br><span class="line">                    <span class="string">'100'</span>: [<span class="string">'200'</span>,<span class="string">'201'</span>,<span class="string">'103'</span>], </span><br><span class="line">                    <span class="string">'101'</span>: [<span class="string">'201'</span>],</span><br><span class="line">                    <span class="string">'102'</span>:[],</span><br><span class="line">                    <span class="string">'103'</span>: [<span class="string">'100'</span>],</span><br><span class="line"></span><br><span class="line">                    <span class="string">'200'</span>: [<span class="string">'101'</span>],              </span><br><span class="line">                    <span class="string">'201'</span>: [<span class="string">'202'</span>,<span class="string">'300'</span>],</span><br><span class="line">                    <span class="string">'202'</span>: [<span class="string">'102'</span>],               </span><br><span class="line">                    <span class="string">'203'</span>: [<span class="string">'102'</span>], </span><br><span class="line"></span><br><span class="line">                    <span class="string">'300'</span>: [<span class="string">'203'</span>],</span><br><span class="line">                </span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"background-color:#EEEEEE;margin:0;padding:5px;font-size:0.9em"</span>&gt;</span></span><br><span class="line">    您当前处于 <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"tip"</span>&gt;</span>用户提交资料<span class="tag">&lt;/<span class="name">span</span>&gt;</span> 步骤 </span><br><span class="line">    下一步等待<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"tip"</span>&gt;</span>供应商接单<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-if</span>=<span class="string">"show===false"</span> @<span class="attr">click</span>=<span class="string">"show=true"</span>&gt;</span>展开<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-else</span> @<span class="attr">click</span>=<span class="string">"show=false"</span>&gt;</span>收起<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myholder"</span> <span class="attr">v-show</span>=<span class="string">"show"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.joint=<span class="built_in">require</span>(<span class="string">'jointjs'</span>);</span><br><span class="line"><span class="keyword">var</span> Shape = joint.dia.Element.define(<span class="string">'default.Rectangle'</span>, &#123;      </span><br><span class="line">        attrs: &#123;  </span><br><span class="line">            rect: &#123;</span><br><span class="line">                refWidth: <span class="string">'100%'</span>,</span><br><span class="line">                refHeight: <span class="string">'100%'</span>,</span><br><span class="line">                <span class="comment">//下面这些可以自己设置</span></span><br><span class="line">                fill:&#123;</span><br><span class="line">                    type: <span class="string">'linearGradient'</span>,</span><br><span class="line">                    stops: [</span><br><span class="line">                        &#123;<span class="attr">offset</span>: <span class="string">'0%'</span>, <span class="attr">color</span>: <span class="string">'#B0E0E6'</span>&#125;,<span class="comment">//渐变开始</span></span><br><span class="line">                        &#123;<span class="attr">offset</span>: <span class="string">'100%'</span>, <span class="attr">color</span>: <span class="string">'#F0F8FF'</span>&#125;<span class="comment">//渐变结束</span></span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">                stroke: <span class="string">'#B0E0E6'</span>,</span><br><span class="line">                strokeWidth: <span class="number">1</span>,</span><br><span class="line">                rx: <span class="number">5</span>,<span class="comment">//圆角</span></span><br><span class="line">                ry: <span class="number">5</span></span><br><span class="line">            &#125;,</span><br><span class="line">            text: &#123;</span><br><span class="line">                refX: <span class="string">'50%'</span>,</span><br><span class="line">                refY: <span class="string">'50%'</span>,                               </span><br><span class="line">                textVerticalAnchor: <span class="string">'middle'</span>,</span><br><span class="line">                textAnchor: <span class="string">'middle'</span>,</span><br><span class="line">                fontSize: <span class="number">10</span>           </span><br><span class="line">            &#125;</span><br><span class="line">         &#125;                    </span><br><span class="line">    &#125;, </span><br><span class="line">    &#123;</span><br><span class="line">         markup: <span class="string">'&lt;rect/&gt;&lt;text/&gt;'</span>,</span><br><span class="line">         setText: <span class="function"><span class="keyword">function</span>(<span class="params">text</span>) </span>&#123;                    </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.attr(<span class="string">'text/text'</span>, text || <span class="string">''</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        setShapeStyle:<span class="function"><span class="keyword">function</span>(<span class="params">shapeStyle</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> newstyle = <span class="built_in">Object</span>.assign(&#123;&#125;,<span class="keyword">this</span>.attr(<span class="string">'rect'</span>),shapeStyle);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.attr(<span class="string">'rect'</span>,newstyle)</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        setTextStyle:<span class="function"><span class="keyword">function</span>(<span class="params">textStyle</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> newstyle = <span class="built_in">Object</span>.assign(&#123;&#125;,<span class="keyword">this</span>.attr(<span class="string">'text'</span>),textStyle);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.attr(<span class="string">'text'</span>,newstyle)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Link = joint.dia.Link.define(<span class="string">'default.Link'</span>, &#123;</span><br><span class="line">        attrs: &#123;</span><br><span class="line">            <span class="string">'.connection'</span>: &#123;</span><br><span class="line">                stroke: <span class="string">'#2F4F4F'</span>,<span class="comment">//线</span></span><br><span class="line">                strokeWidth: <span class="number">1</span>,</span><br><span class="line">                pointerEvents: <span class="string">'none'</span>,</span><br><span class="line">                targetMarker: &#123;<span class="comment">//箭头</span></span><br><span class="line">                    type: <span class="string">'path'</span>,</span><br><span class="line">                    fill: <span class="string">'#2F4F4F'</span>,<span class="comment">//填充颜色</span></span><br><span class="line">                    stroke: <span class="string">'#2F4F4F'</span>,<span class="comment">//边框颜色</span></span><br><span class="line">                    strokeWidth:<span class="string">'1'</span>,</span><br><span class="line">                    d: <span class="string">'M 2 -2 0 0 2 2 z'</span><span class="comment">//形状</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        connector: &#123;</span><br><span class="line">            name: <span class="string">'rounded'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        z: <span class="number">-1</span>,</span><br><span class="line">        weight: <span class="number">1</span>,</span><br><span class="line">        minLen: <span class="number">1</span>,</span><br><span class="line">        labelPosition: <span class="string">'c'</span>,</span><br><span class="line">        labelOffset: <span class="number">10</span>,</span><br><span class="line">        labelSize: &#123;</span><br><span class="line">            width: <span class="number">50</span>,</span><br><span class="line">            height: <span class="number">30</span></span><br><span class="line">        &#125;,</span><br><span class="line">        labels: [&#123;</span><br><span class="line">            markup: <span class="string">'&lt;rect/&gt;&lt;text/&gt;'</span>,</span><br><span class="line">            attrs: &#123;</span><br><span class="line">                text: &#123;</span><br><span class="line">                    fill: <span class="string">'gray'</span>,</span><br><span class="line">                    textAnchor: <span class="string">'middle'</span>,</span><br><span class="line">                    refY: <span class="number">5</span>,</span><br><span class="line">                    refY2: <span class="string">'-50%'</span>,</span><br><span class="line">                    fontSize: <span class="number">10</span>,</span><br><span class="line">                    cursor: <span class="string">'pointer'</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="comment">// rect: &#123;</span></span><br><span class="line">                <span class="comment">//     fill: 'lightgray',</span></span><br><span class="line">                <span class="comment">//     stroke: 'gray',</span></span><br><span class="line">                <span class="comment">//     strokeWidth: 2,</span></span><br><span class="line">                <span class="comment">//     refWidth: '100%',</span></span><br><span class="line">                <span class="comment">//     refHeight: '100%',</span></span><br><span class="line">                <span class="comment">//     refX: '-50%',</span></span><br><span class="line">                <span class="comment">//     refY: '-50%',</span></span><br><span class="line">                <span class="comment">//     rx: 5,</span></span><br><span class="line">                <span class="comment">//     ry: 5</span></span><br><span class="line">                <span class="comment">// &#125;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            size: &#123;</span><br><span class="line">                width: <span class="number">50</span>, <span class="attr">height</span>: <span class="number">10</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line"></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        markup: <span class="string">'&lt;path class="connection"/&gt;&lt;g class="labels"/&gt;'</span>,</span><br><span class="line">        </span><br><span class="line">        connect: <span class="function"><span class="keyword">function</span>(<span class="params">sourceId, targetId</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.set(&#123;</span><br><span class="line">                source: &#123; <span class="attr">id</span>: sourceId &#125;,</span><br><span class="line">                target: &#123; <span class="attr">id</span>: targetId &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        setLabelText: <span class="function"><span class="keyword">function</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.prop(<span class="string">'labels/0/attrs/text/text'</span>, text || <span class="string">''</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ElementView = joint.dia.ElementView.extend(&#123;</span><br><span class="line">        pointerdown: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// this._click = true;</span></span><br><span class="line">            <span class="comment">// joint.dia.ElementView.prototype.pointerdown.apply(this, arguments);</span></span><br><span class="line">        &#125;,</span><br><span class="line">        pointermove: <span class="function"><span class="keyword">function</span>(<span class="params">evt, x, y</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// this._click = false;</span></span><br><span class="line">            <span class="comment">// joint.dia.ElementView.prototype.pointermove.apply(this, arguments);</span></span><br><span class="line">        &#125;,</span><br><span class="line">        pointerup: <span class="function"><span class="keyword">function</span> (<span class="params">evt, x, y</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// if (this._click) &#123;</span></span><br><span class="line">            <span class="comment">//     // triggers an event on the paper and the element itself</span></span><br><span class="line">            <span class="comment">//     this.notify('cell:click', evt, x, y); </span></span><br><span class="line">            <span class="comment">// &#125; else &#123;</span></span><br><span class="line">            <span class="comment">//     joint.dia.ElementView.prototype.pointerup.apply(this, arguments);</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="keyword">var</span> LinkView = joint.dia.LinkView.extend(&#123;</span><br><span class="line">    addVertex: <span class="function"><span class="keyword">function</span>(<span class="params">evt, x, y</span>) </span>&#123;&#125;,</span><br><span class="line">    removeVertex: <span class="function"><span class="keyword">function</span>(<span class="params">endType</span>) </span>&#123;&#125;,</span><br><span class="line">    pointerdown:<span class="function"><span class="keyword">function</span>(<span class="params">evt, x, y</span>) </span>&#123;&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;   </span><br><span class="line">    data()&#123;</span><br><span class="line">        <span class="keyword">return</span>&#123;</span><br><span class="line">            graph:<span class="literal">null</span>,</span><br><span class="line">            paper:<span class="literal">null</span>,</span><br><span class="line">            show:<span class="literal">true</span></span><br><span class="line">        &#125;       </span><br><span class="line">    &#125;,</span><br><span class="line">    props:&#123;</span><br><span class="line">        graphData:&#123;</span><br><span class="line">            type:<span class="built_in">Object</span>,</span><br><span class="line">            required:<span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        <span class="keyword">let</span> w = <span class="built_in">document</span>.getElementById(<span class="string">'container'</span>).width ; </span><br><span class="line">        <span class="keyword">this</span>.graph = <span class="keyword">new</span> joint.dia.Graph;</span><br><span class="line">        <span class="keyword">this</span>.paper = <span class="keyword">new</span> joint.dia.Paper(&#123;</span><br><span class="line">            el: <span class="built_in">document</span>.getElementById(<span class="string">'myholder'</span>),</span><br><span class="line">            width: w,</span><br><span class="line">            height: <span class="number">250</span>,         </span><br><span class="line">            model: <span class="keyword">this</span>.graph,</span><br><span class="line">            elementView: ElementView,<span class="comment">//禁止拖拽</span></span><br><span class="line">            linkView:LinkView<span class="comment">//禁止拖拽</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">this</span>.layout();</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        getWidthandHeight(label)&#123;</span><br><span class="line">            <span class="keyword">let</span> maxLineLength = _.max(label.split(<span class="string">'\n'</span>), <span class="function"><span class="keyword">function</span>(<span class="params">l</span>) </span>&#123; <span class="keyword">return</span> l.length; &#125;).length,</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Compute width/height of the rectangle based on the number</span></span><br><span class="line">            <span class="comment">// of lines in the label and the letter size. 0.6 * letterSize is</span></span><br><span class="line">            <span class="comment">// an approximation of the monospace font letter width.</span></span><br><span class="line">             letterSize = <span class="number">8</span>,</span><br><span class="line">             width = <span class="number">2</span> * (letterSize * (<span class="number">0.6</span> * maxLineLength + <span class="number">1</span>)),</span><br><span class="line">             height = <span class="number">2</span> * ((label.split(<span class="string">'\n'</span>).length + <span class="number">1</span>) * letterSize);</span><br><span class="line">            <span class="keyword">return</span> &#123;width,height&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        getLayoutOptions() &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                <span class="comment">// setVertices: false,</span></span><br><span class="line">                <span class="comment">// setLabels: false,</span></span><br><span class="line">                <span class="comment">// ranker:'longer-path',//'tight-tree'/'network-simplex',</span></span><br><span class="line">                rankDir: <span class="string">'LR'</span>,</span><br><span class="line">                align: <span class="string">'UR'</span>,</span><br><span class="line">                rankSep:<span class="number">0</span>,</span><br><span class="line">                edgeSep:<span class="number">0</span>,</span><br><span class="line">                nodeSep:<span class="number">0</span>,</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        buildGraphFromAdjacencyList(adjacencyList) &#123;</span><br><span class="line">            <span class="keyword">let</span> elements = [],links = [],obj,size,node;</span><br><span class="line">            <span class="keyword">const</span> _this=<span class="keyword">this</span>;</span><br><span class="line">            <span class="keyword">const</span> map=<span class="keyword">this</span>.graphData.node;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">Object</span>.keys(adjacencyList).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">parentId</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// Add element</span></span><br><span class="line"></span><br><span class="line">                obj =map[parentId];</span><br><span class="line">                size = _this.getWidthandHeight(obj.text);</span><br><span class="line">                node =<span class="keyword">new</span> Shape(&#123;<span class="attr">id</span>:parentId,<span class="attr">size</span>:size&#125;).setText(obj.text);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(obj.category&amp;&amp;obj.category.shapeStyle)&#123;</span><br><span class="line">                    node = node.setShapeStyle(obj.category.shapeStyle);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(obj.category&amp;&amp;obj.category.textStyle)&#123;</span><br><span class="line">                    node = node.setTextStyle(obj.category.textStyle);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                elements.push(node);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// Add links</span></span><br><span class="line">                adjacencyList[parentId].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">childId</span>) </span>&#123;</span><br><span class="line">                    links.push(</span><br><span class="line">                        <span class="keyword">new</span> Link().connect(parentId, childId)<span class="comment">// .setLabelText(parentLabel + '-' + childLabel)                                         </span></span><br><span class="line">                    );</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> elements.concat(links);</span><br><span class="line">        &#125;,</span><br><span class="line">        layout() &#123;            </span><br><span class="line">            <span class="keyword">let</span> cells = <span class="keyword">this</span>.buildGraphFromAdjacencyList(<span class="keyword">this</span>.graphData.edge);    </span><br><span class="line">            <span class="keyword">this</span>.graph.resetCells(cells);</span><br><span class="line">            joint.layout.DirectedGraph.layout(<span class="keyword">this</span>.graph, <span class="keyword">this</span>.getLayoutOptions());</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;style&gt;</span></span><br><span class="line"><span class="regexp">#myholder &#123;</span></span><br><span class="line"><span class="regexp">    border: 1px solid lightgray;</span></span><br><span class="line"><span class="regexp">    margin-bottom:20px;</span></span><br><span class="line"><span class="regexp">    padding-left:20px</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">.tip&#123;</span></span><br><span class="line"><span class="regexp">  color:#9ACD32;</span></span><br><span class="line"><span class="regexp">  font-size:0.9em;</span></span><br><span class="line"><span class="regexp">  font-weight:bold;</span></span><br><span class="line"><span class="regexp">  padding:5px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure>
<p>这是我自己包装的代码地址：<a href="https://github.com/LRY1994/vue-lib/tree/master/src/components/process-joint" target="_blank" rel="noopener">https://github.com/LRY1994/vue-lib/tree/master/src/components/process-joint</a></p>
<p>这个目前看来还算满意</p>
<h3 id="jsplumb"><a href="#jsplumb" class="headerlink" title="jsplumb"></a>jsplumb</h3><p>这个看了官网，不太友好，而且下载只有一个js文件，没有demo代码，不知如何下手</p>
<h3 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h3><p><a href="https://gojs.net/latest/samples/pageFlow.html" target="_blank" rel="noopener">https://gojs.net/latest/samples/pageFlow.html</a><br><a href="http://www.daviddurman.com/assets/autolayout.js" target="_blank" rel="noopener">http://www.daviddurman.com/assets/autolayout.js</a><br><a href="http://resources.jointjs.com/demos/layout" target="_blank" rel="noopener">http://resources.jointjs.com/demos/layout</a></p>
<p>———————————————更新 2018/8/30———————————————————-<br>经过一番实践，我觉得jointjs不好用了。<br>不满意点：</p>
<ol>
<li>不能相对容器自动布局，都用的是死的像素，分辨率低的屏幕，部分图有些就看不见<img src="/study/2018/8/procedure/joint-error.png"></li>
<li>不能滚动鼠标自己缩小放大</li>
<li>比较丑，也可能是我不会配色</li>
</ol>
<p>最终采用gojs,上面提到的问题解决方案是：把去掉水印的gojs放在自己的npm服务器上，这样就可以npm安装了！！！<br>实践过程中遇到个问题<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">process-go</span> <span class="attr">style</span>=<span class="string">"height:250px"</span>  <span class="attr">v-if</span>=<span class="string">"show"</span>  <span class="attr">:model-data</span>=<span class="string">"dataObj.graph"</span> <span class="attr">:category</span>=<span class="string">"category"</span>&gt;</span> <span class="tag">&lt;/<span class="name">process-go</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>像这样，用<code>v-if</code>反复切换，会报错<code>Cannot read property &#39;type&#39; of undefined     at Po (go.js?d976:1044)</code></p>
<p>换成<code>v-show</code>就不会<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">process-go</span> <span class="attr">style</span>=<span class="string">"height:250px"</span>  <span class="attr">v-show</span>=<span class="string">"show"</span>  <span class="attr">:model-data</span>=<span class="string">"dataObj.graph"</span> <span class="attr">:category</span>=<span class="string">"category"</span>&gt;</span> <span class="tag">&lt;/<span class="name">process-go</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>但是这样的前提是show初始化是true.如果初始化为false,没有报错，但是图呈现不出来。<br>原因我猜测是：show初始化为false,组件高度为0，因为默认画布就是组件容器，所以画布高度变成0，图画不出。</p>
<p>最后想出个方法。<code>v-if</code>和<code>v-show</code>结合一起使用，加上<code>$once</code>方法，代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">process-go</span> <span class="attr">style</span>=<span class="string">"height:250px"</span> <span class="attr">v-if</span>=<span class="string">"firstClick"</span> <span class="attr">v-show</span>=<span class="string">"show"</span>  <span class="attr">:model-data</span>=<span class="string">"dataObj.graph"</span> <span class="attr">:category</span>=<span class="string">"category"</span>&gt;</span> <span class="tag">&lt;/<span class="name">process-go</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;        </span><br><span class="line">        show:<span class="literal">false</span>,</span><br><span class="line">        firstClick:<span class="literal">false</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">created()&#123;</span><br><span class="line">    <span class="keyword">this</span>.init();</span><br><span class="line">    <span class="keyword">this</span>.$once(<span class="string">'firstClick'</span>,()=&gt;&#123;</span><br><span class="line">        <span class="keyword">this</span>.firstClick = <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">    init()&#123;...&#125;,</span><br><span class="line">    look()&#123;<span class="comment">//用v-if切换会报错，只有第一次点击查看用v-if,其他用v-show</span></span><br><span class="line">        <span class="keyword">this</span>.$emit(<span class="string">'firstClick'</span>);</span><br><span class="line">        <span class="keyword">this</span>.show = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重新封装了一下gojs 地址：<a href="https://github.com/LRY1994/vue-lib/blob/master/src/components/process-go/index.vue" target="_blank" rel="noopener">https://github.com/LRY1994/vue-lib/blob/master/src/components/process-go/index.vue</a></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/学习/">学习</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/专题探究/">专题探究</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://lry1994.github.io/study/2018/8/procedure.html" data-title="vue中使用gojs/jointjs | 圆玉的博客" data-tsina="2140938987" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/study/2018/9/bigfile-webpack.html" title="库文件太大，webpack打包时怎么办">
  <strong>上一篇：</strong><br/>
  <span>
  库文件太大，webpack打包时怎么办</span>
</a>
</div>


<div class="next">
<a href="/study/Comprehensive/visible-area.html"  title="HTML元素定位">
 <strong>下一篇：</strong><br/> 
 <span>HTML元素定位
</span>
</a>
</div>

</nav>

	



</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Raphael"><span class="toc-number">1.</span> <span class="toc-text">Raphael</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flow-chart"><span class="toc-number">2.</span> <span class="toc-text">flow-chart</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#darge-d3"><span class="toc-number">3.</span> <span class="toc-text">darge-d3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gojs"><span class="toc-number">4.</span> <span class="toc-text">gojs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jointjs"><span class="toc-number">5.</span> <span class="toc-text">jointjs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jsplumb"><span class="toc-number">6.</span> <span class="toc-text">jsplumb</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考资料："><span class="toc-number">7.</span> <span class="toc-text">参考资料：</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/学习/" title="学习">学习<sup>37</sup></a></li>
		  
		
		  
			<li><a href="/categories/生活/" title="生活">生活<sup>3</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/专题探究/" title="专题探究">专题探究<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/读书笔记/" title="读书笔记">读书笔记<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/日常记录/" title="日常记录">日常记录<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/面经/" title="面经">面经<sup>6</sup></a></li>
			
		
		</ul>
</div>


  

<div class="doubanshow">
<p class="asidetitle">Douban Show</p>
<div>
<script type="text/javascript" src="http://www.douban.com/service/badge/167927352/?show=collection&amp;n=12&amp;columns=3&amp;hidelogo=yes&amp;hideself=yes&amp;cat=book|movie" ></script>
</div>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=2140938987&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m 圆玉 in China. <br/>
			This is my blog,for recording.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2140938987" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/LRY1994" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		<a href="https://www.douban.com/people/167927352" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		
		
		<a href="mailto:lry0930@qq.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2019 
		
		<a href="/about" target="_blank" title="Ruiyu Lin">Ruiyu Lin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>











<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
